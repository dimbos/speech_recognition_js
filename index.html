<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
	<textarea></textarea>
<script>




function recogVoice(e) { 
var askForMic = 1; 
var recognition = new webkitSpeechRecognition(); 
recognition.continuous = true; 
recognition.interimResults = true; 
recognition.onresult = function(e) { 
for (var i = e.resultIndex; i < e.results.length; ++i) { 
var result += e.results[i][0].transcript; 
$('textarea').val(result); 
} 
} 
recognition.onerror = function(event) { 
if (event.error == 'not-allowed') { 
askForMic == 0; 
alert('Вы запретили использовать микрофон, теперь вы не сможете протестить фичу, а я не смогу слить коды запуска ваших ракет в ФБР :('); 
} else { 
alert('Ошибка: ' + event.error); 
console.log(event); 
} 
} 
if (askForMic == 1) { 
recognition.start(); 
} 
} 

recogVoice();


</script>
	
</body>
</html>